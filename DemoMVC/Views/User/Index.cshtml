@model IEnumerable<UserViewModel>
@{
    ViewData["Title"] = "Index";
}

<h1 class="mb-4">All Users</h1>

<div class="m-auto">
    <form asp-action="Index" class="my-3 ">
    <div class="row w-100">
        <div class="col-md-10">
            <input id="Search" placeholder="Search For Email" name="email" class="form-control" />
        </div>

        <div class="col-md-2">
            <input type="submit" value="Search" class="btn btn-warning btn-block"/>
        </div>
    </div>

</form>
</div>





@if (Model.Count() > 0)
{
        <table id="EmpTable" class="table table-hover table-striped">

            <thead>
                <tr>
                    <th>@Html.DisplayNameFor(u => u.Id)</th>
                    <th>@Html.DisplayNameFor(u => u.UserName)</th>
                    <th>@Html.DisplayNameFor(u => u.Email)</th>
                    <th>@Html.DisplayNameFor(u => u.PhoneNumber)</th>
                    <th>@Html.DisplayNameFor(u => u.Roles)</th>
                    <th>Details</th>
                    <th>Update</th>
                    <th>Delete</th>
                </tr>
            </thead>

            <tbody>
            @foreach (var user in Model)
            {
                        <tr>
                          <td>@Html.DisplayFor(M=>user.Id)</td>
                          <td>@Html.DisplayFor(M=>user.UserName)</td>
                          <td>@Html.DisplayFor(M=> user.Email)</td>
                          <td>@Html.DisplayFor(M=> user.PhoneNumber)</td>
                          <td>@string.Join(" ",user.Roles)</td>

                          <partial name="_ButtonViewPartial" model="@user.Id" />

                        </tr>
            }
            </tbody>

        </table>

}
else
{
        <div class="py-2 h3 alert alert-success">There is No Users :(</div>
}

